服务器部署

1.安装 c++, sudo yum install gcc-c++

2.安装 ftp，yum install ftp，需要 ftp 从 ftp 上下载数据

3.安装 jemalloc，yum install jemalloc

4.安装 curl，yum install curl

5.安装 gmp-4.3.2.tar.bz2, mpc-0.8.1.tar.gz, mpfr-2.4.2.tar.bz2

6.下载 binutils-2.26.tar.gz 并安装

7.安装 gdb，sudo yum install gdb

8.安装 gperf，sudo yum install gperf

9.安装 ./zlib-1.2.8.tar.gz，spdy模块需要新版本的 zlib(wget http://zlib.net/zlib-1.2.8.tar.gz)

7.安装libhiredis，直接从 10.11.5.145 复制一个 libhiredis.so.0.11 到 /usr/lib64

8.创建软连接，ln -s ./libhiredis.so.0.11 ./libhiredis.so.0 ln -s ./libhiredis.so.0 ./libhiredis.so

9.安装libmysql，直接从 10.11.5.145 上复制一个 libmysqlclient.so

10.下载gcc-4.9.2，./configure -enable-checking=release -enable-languages=c,c++ -disable-multilib，make && make install



rm /usr/bin/gcc
ln -s /usr/local/bin/gcc /usr/bin/gcc
rm /usr/bin/c++
ln -s /usr/local/bin/c++ /usr/bin/c++
rm /usr/bin/g++
ln -s /usr/local/bin/g++ /usr/bin/g++
rm /usr/bin/gcov
ln -s /usr/local/bin/gcov /usr/bin/gcov

/tmp/ccpCzwGG.s: Assembler messages:
/tmp/ccpCzwGG.s:35009: Error: no such instruction: `shrx %rax,%rdx,%rax'
出现这个错误，需要更新 binutils

./mwp_router_server: /usr/lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.19' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.17' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.18' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `CXXABI_1.3.5' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.14' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by ./mwp_router_server)
./mwp_router_server: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.20' not found (required by ./mwp_router_server)

出现这个错误，需要修改 ~/.bashrc 或者 /etc/bashrc 里面的 LD_LIBRARY_PATH
export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib/


E0607 17:44:16.078810   693 file_observer.cc:103] startObservingFile - Can not start watching mwp_router_server.json for modifications: Can not add inotify watch for 'mwp_router_server.json'
如果出现这个错误，是因为没有配置文件，或者没有权限

